-- 160 Valid MT Messages for MT-MX Application
-- This script creates 160 comprehensive test messages with various scenarios
-- Created for production-like testing environment

-- =============================================================================
-- MT103 MESSAGES (40 examples)
-- =============================================================================

-- 5 örnek MT103
INSERT INTO swift_messages (
    message_type, sender_bic, receiver_bic, amount, currency, value_date,
    raw_mt_message, generated_mx_message, created_at, updated_at
) VALUES 
('MT103', 'TGBATRIXXX', 'AKBKTRISKXXX', 25000.00, 'TRY', CURRENT_DATE + 1,
'{1:F01TGBATRIXXX0000000000}{2:I103AKBKTRISKXXXXN}{4::20:MT103TRY001:23B:CRED:32A:' || TO_CHAR(CURRENT_DATE + 1, 'YYMMDD') || 'TRY25000,00:50K:/TR330006200000000001234567:52A:TGBATRIXXX:57A:AKBKTRISKXXX:59:/TR640001300000000001234567:70:TEST PAYMENT:71A:SHA-}', NULL, NOW(), NOW()),
('MT103', 'ISBKTRISAHXXX', 'YAPITRISXXX', 35000.00, 'TRY', CURRENT_DATE + 2,
'{1:F01ISBKTRISAHXXX0000000000}{2:I103YAPITRISXXXXN}{4::20:MT103TRY002:23B:CRED:32A:' || TO_CHAR(CURRENT_DATE + 2, 'YYMMDD') || 'TRY35000,00:50K:/TR250001500000000009876543:52A:ISBKTRISAHXXX:57A:YAPITRISXXX:59:/TR980001400000000001234567:70:TEST PAYMENT:71A:SHA-}', NULL, NOW(), NOW()),
('MT103', 'AKBKTRISKXXX', 'GARBTRISKXXX', 45000.00, 'TRY', CURRENT_DATE + 3,
'{1:F01AKBKTRISKXXX0000000000}{2:I103GARBTRISKXXXXN}{4::20:MT103TRY003:23B:CRED:32A:' || TO_CHAR(CURRENT_DATE + 3, 'YYMMDD') || 'TRY45000,00:50K:/TR640001300000000001234567:52A:AKBKTRISKXXX:57A:GARBTRISKXXX:59:/TR120001100000000001234567:70:TEST PAYMENT:71A:SHA-}', NULL, NOW(), NOW()),
('MT103', 'YAPITRISXXX', 'TGBATRIXXX', 55000.00, 'TRY', CURRENT_DATE + 4,
'{1:F01YAPITRISXXX0000000000}{2:I103TGBATRIXXXXXN}{4::20:MT103TRY004:23B:CRED:32A:' || TO_CHAR(CURRENT_DATE + 4, 'YYMMDD') || 'TRY55000,00:50K:/TR980001400000000001122334:52A:YAPITRISXXX:57A:TGBATRIXXX:59:/TR330006200000000001234567:70:TEST PAYMENT:71A:SHA-}', NULL, NOW(), NOW()),
('MT103', 'GARBTRISKXXX', 'ISBKTRISAHXXX', 65000.00, 'TRY', CURRENT_DATE + 5,
'{1:F01GARBTRISKXXX0000000000}{2:I103ISBKTRISAHXXXXN}{4::20:MT103TRY005:23B:CRED:32A:' || TO_CHAR(CURRENT_DATE + 5, 'YYMMDD') || 'TRY65000,00:50K:/TR120001100000000001234567:52A:GARBTRISKXXX:57A:ISBKTRISAHXXX:59:/TR250001500000000001234567:70:TEST PAYMENT:71A:SHA-}', NULL, NOW(), NOW());

-- 35 random valid MT103
DO $$
DECLARE 
    i INTEGER;
    bic_codes TEXT[] := ARRAY['TGBATRIXXX', 'AKBKTRISKXXX', 'ISBKTRISAHXXX', 'YAPITRISXXX', 'GARBTRISKXXX'];
    currencies TEXT[] := ARRAY['TRY', 'USD', 'EUR', 'GBP', 'CHF'];
BEGIN
    FOR i IN 1..35 LOOP
        INSERT INTO swift_messages (
            message_type, sender_bic, receiver_bic, amount, currency, value_date,
            raw_mt_message, generated_mx_message, created_at, updated_at
        ) VALUES (
            'MT103',
            bic_codes[((i-1) % 5) + 1],
            bic_codes[(i % 5) + 1],
            (RANDOM() * 90000 + 10000)::DECIMAL(10,2),
            currencies[((i-1) % 5) + 1],
            CURRENT_DATE + i + 5,
            '{1:F01' || bic_codes[((i-1) % 5) + 1] || '0000000000}{2:I103' || bic_codes[(i % 5) + 1] || 'N}{4::20:MT103AUTO' || LPAD(i::TEXT, 3, '0') || ':23B:CRED:32A:' || TO_CHAR(CURRENT_DATE + i + 5, 'YYMMDD') || currencies[((i-1) % 5) + 1] || TRUNC(RANDOM() * 90000 + 10000) || ',00:50K:/TR' || LPAD((RANDOM() * 999999999999999999)::BIGINT::TEXT, 18, '0') || ':52A:' || bic_codes[((i-1) % 5) + 1] || ':57A:' || bic_codes[(i % 5) + 1] || ':59:/TR' || LPAD((RANDOM() * 999999999999999999)::BIGINT::TEXT, 18, '0') || ':70:AUTOMATED TEST PAYMENT ' || i || ':71A:SHA-}',
            NULL,
            NOW(),
            NOW()
        );
    END LOOP;
END $$;

-- =============================================================================
-- MT102 MESSAGES (35 examples)
-- =============================================================================

-- 5 örnek MT102
INSERT INTO swift_messages (
    message_type, sender_bic, receiver_bic, amount, currency, value_date,
    raw_mt_message, generated_mx_message, created_at, updated_at
) VALUES 
('MT102', 'TGBATRIXXX', 'AKBKTRISKXXX', 450000.00, 'TRY', CURRENT_DATE + 15,
'{1:F01TGBATRIXXX0000000000}{2:I102AKBKTRISKXXXXN}{4::20:MT102SAL001:21:SALARY202501:32A:' || TO_CHAR(CURRENT_DATE + 15, 'YYMMDD') || 'TRY450000,00:50A:TGBATRIXXX:52A:TGBATRIXXX:57A:AKBKTRISKXXX:72:/ACC/MONTHLY SALARY PAYMENTS:21:EMP001:32B:TRY45000,00:50K:/TR330006200000000001234567:59:/TR640001300000000001111111:70:JANUARY 2025 SALARY-}', NULL, NOW(), NOW()),
('MT102', 'ISBKTRISAHXXX', 'YAPITRISXXX', 380000.00, 'TRY', CURRENT_DATE + 16,
'{1:F01ISBKTRISAHXXX0000000000}{2:I102YAPITRISXXXXN}{4::20:MT102SAL002:21:SALARY202502:32A:' || TO_CHAR(CURRENT_DATE + 16, 'YYMMDD') || 'TRY380000,00:50A:ISBKTRISAHXXX:52A:ISBKTRISAHXXX:57A:YAPITRISXXX:72:/ACC/MONTHLY SALARY PAYMENTS:21:EMP002:32B:TRY38000,00:50K:/TR250001500000000001234567:59:/TR980001400000000001111111:70:JANUARY 2025 SALARY-}', NULL, NOW(), NOW()),
('MT102', 'AKBKTRISKXXX', 'GARBTRISKXXX', 420000.00, 'TRY', CURRENT_DATE + 17,
'{1:F01AKBKTRISKXXX0000000000}{2:I102GARBTRISKXXXXN}{4::20:MT102SAL003:21:SALARY202503:32A:' || TO_CHAR(CURRENT_DATE + 17, 'YYMMDD') || 'TRY420000,00:50A:AKBKTRISKXXX:52A:AKBKTRISKXXX:57A:GARBTRISKXXX:72:/ACC/MONTHLY SALARY PAYMENTS:21:EMP003:32B:TRY42000,00:50K:/TR640001300000000001234567:59:/TR120001100000000001111111:70:JANUARY 2025 SALARY-}', NULL, NOW(), NOW()),
('MT102', 'YAPITRISXXX', 'TGBATRIXXX', 410000.00, 'TRY', CURRENT_DATE + 18,
'{1:F01YAPITRISXXX0000000000}{2:I102TGBATRIXXXXXN}{4::20:MT102SAL004:21:SALARY202504:32A:' || TO_CHAR(CURRENT_DATE + 18, 'YYMMDD') || 'TRY410000,00:50A:YAPITRISXXX:52A:YAPITRISXXX:57A:TGBATRIXXX:72:/ACC/MONTHLY SALARY PAYMENTS:21:EMP004:32B:TRY41000,00:50K:/TR980001400000000001122334:59:/TR330006200000000001234567:70:JANUARY 2025 SALARY-}', NULL, NOW(), NOW()),
('MT102', 'GARBTRISKXXX', 'ISBKTRISAHXXX', 390000.00, 'TRY', CURRENT_DATE + 19,
'{1:F01GARBTRISKXXX0000000000}{2:I102ISBKTRISAHXXXXN}{4::20:MT102SAL005:21:SALARY202505:32A:' || TO_CHAR(CURRENT_DATE + 19, 'YYMMDD') || 'TRY390000,00:50A:GARBTRISKXXX:52A:GARBTRISKXXX:57A:ISBKTRISAHXXX:72:/ACC/MONTHLY SALARY PAYMENTS:21:EMP005:32B:TRY39000,00:50K:/TR120001100000000001234567:59:/TR250001500000000001234567:70:JANUARY 2025 SALARY-}', NULL, NOW(), NOW());

-- 30 random valid MT102
DO $$
DECLARE 
    i INTEGER;
    bic_codes TEXT[] := ARRAY['TGBATRIXXX', 'AKBKTRISKXXX', 'ISBKTRISAHXXX', 'YAPITRISXXX', 'GARBTRISKXXX'];
    currencies TEXT[] := ARRAY['TRY', 'USD', 'EUR'];
BEGIN
    FOR i IN 1..30 LOOP
        INSERT INTO swift_messages (
            message_type, sender_bic, receiver_bic, amount, currency, value_date,
            raw_mt_message, generated_mx_message, created_at, updated_at
        ) VALUES (
            'MT102',
            bic_codes[((i-1) % 5) + 1],
            bic_codes[(i % 5) + 1],
            (RANDOM() * 500000 + 200000)::DECIMAL(10,2),
            currencies[((i-1) % 3) + 1],
            CURRENT_DATE + i + 20,
            '{1:F01' || bic_codes[((i-1) % 5) + 1] || '0000000000}{2:I102' || bic_codes[(i % 5) + 1] || 'N}{4::20:MT102BATCH' || LPAD(i::TEXT, 3, '0') || ':21:BATCH2025' || LPAD(i::TEXT, 3, '0') || ':32A:' || TO_CHAR(CURRENT_DATE + i + 20, 'YYMMDD') || currencies[((i-1) % 3) + 1] || TRUNC(RANDOM() * 500000 + 200000) || ',00:50A:' || bic_codes[((i-1) % 5) + 1] || ':52A:' || bic_codes[((i-1) % 5) + 1] || ':57A:' || bic_codes[(i % 5) + 1] || ':72:/ACC/BATCH PAYMENTS:70:JANUARY 2025 SALARY-}',
            NULL,
            NOW(),
            NOW()
        );
    END LOOP;
END $$;

-- =============================================================================
-- MT202 MESSAGES (30 examples)
-- =============================================================================

-- 5 örnek MT202
INSERT INTO swift_messages (
    message_type, sender_bic, receiver_bic, amount, currency, value_date,
    raw_mt_message, generated_mx_message, created_at, updated_at
) VALUES 
('MT202', 'TGBATRIXXX', 'DEUTDEFFXXX', 500000.00, 'EUR', CURRENT_DATE + 25,
'{1:F01TGBATRIXXX0000000000}{2:I202DEUTDEFFXXXXN}{4::20:MT202REF001:21:CORP2025001:32A:' || TO_CHAR(CURRENT_DATE + 25, 'YYMMDD') || 'EUR500000,00:52A:TGBATRIXXX:53A:TGBATRIXXX:56A:DEUTDEFFXXX:57A:DEUTDEFFXXX:58A:/DE89370400440532013000:72:/ACC/INTERBANK SETTLEMENT-}', NULL, NOW(), NOW()),
('MT202', 'AKBKTRISKXXX', 'CHASUS33XXX', 750000.00, 'USD', CURRENT_DATE + 26,
'{1:F01AKBKTRISKXXX0000000000}{2:I202CHASUS33XXXXN}{4::20:MT202REF002:21:CORP2025002:32A:' || TO_CHAR(CURRENT_DATE + 26, 'YYMMDD') || 'USD750000,00:52A:AKBKTRISKXXX:53A:AKBKTRISKXXX:56A:CHASUS33XXX:57A:CHASUS33XXX:58A:/US64NFCU0000000001234567:72:/ACC/INTERBANK SETTLEMENT-}', NULL, NOW(), NOW()),
('MT202', 'ISBKTRISAHXXX', 'BARCGB22XXX', 600000.00, 'GBP', CURRENT_DATE + 27,
'{1:F01ISBKTRISAHXXX0000000000}{2:I202BARCGB22XXXXN}{4::20:MT202REF003:21:CORP2025003:32A:' || TO_CHAR(CURRENT_DATE + 27, 'YYMMDD') || 'GBP600000,00:52A:ISBKTRISAHXXX:53A:ISBKTRISAHXXX:56A:BARCGB22XXX:57A:BARCGB22XXX:58A:/GB29NWBK60161331926819:72:/ACC/INTERBANK SETTLEMENT-}', NULL, NOW(), NOW()),
('MT202', 'YAPITRISXXX', 'UBSWCHZHXXX', 400000.00, 'CHF', CURRENT_DATE + 28,
'{1:F01YAPITRISXXX0000000000}{2:I202UBSWCHZHXXXXN}{4::20:MT202REF004:21:CORP2025004:32A:' || TO_CHAR(CURRENT_DATE + 28, 'YYMMDD') || 'CHF400000,00:52A:YAPITRISXXX:53A:YAPITRISXXX:56A:UBSWCHZHXXX:57A:UBSWCHZHXXX:58A:/CH9300762011623852957:72:/ACC/INTERBANK SETTLEMENT-}', NULL, NOW(), NOW()),
('MT202', 'GARBTRISKXXX', 'BNPAFRPPXXX', 350000.00, 'EUR', CURRENT_DATE + 29,
'{1:F01GARBTRISKXXX0000000000}{2:I202BNPAFRPPXXXXN}{4::20:MT202REF005:21:CORP2025005:32A:' || TO_CHAR(CURRENT_DATE + 29, 'YYMMDD') || 'EUR350000,00:52A:GARBTRISKXXX:53A:GARBTRISKXXX:56A:BNPAFRPPXXX:57A:BNPAFRPPXXX:58A:/FR1420041010050500013M02606:72:/ACC/INTERBANK SETTLEMENT-}', NULL, NOW(), NOW());

-- 25 random valid MT202
DO $$
DECLARE 
    i INTEGER;
    bic_codes TEXT[] := ARRAY['TGBATRIXXX', 'AKBKTRISKXXX', 'ISBKTRISAHXXX', 'YAPITRISXXX', 'GARBTRISKXXX'];
    currencies TEXT[] := ARRAY['EUR', 'USD', 'GBP', 'CHF'];
BEGIN
    FOR i IN 1..25 LOOP
        INSERT INTO swift_messages (
            message_type, sender_bic, receiver_bic, amount, currency, value_date,
            raw_mt_message, generated_mx_message, created_at, updated_at
        ) VALUES (
            'MT202',
            bic_codes[((i-1) % 5) + 1],
            bic_codes[(i % 5) + 1],
            (RANDOM() * 1000000 + 200000)::DECIMAL(10,2),
            currencies[((i-1) % 4) + 1],
            CURRENT_DATE + i + 30,
            '{1:F01' || bic_codes[((i-1) % 5) + 1] || '0000000000}{2:I202' || bic_codes[(i % 5) + 1] || 'N}{4::20:MT202REF' || LPAD(i::TEXT, 3, '0') || ':21:CORP2025' || LPAD(i::TEXT, 3, '0') || ':32A:' || TO_CHAR(CURRENT_DATE + i + 30, 'YYMMDD') || currencies[((i-1) % 4) + 1] || TRUNC(RANDOM() * 1000000 + 200000) || ',00:52A:' || bic_codes[((i-1) % 5) + 1] || ':53A:' || bic_codes[((i-1) % 5) + 1] || ':56A:' || bic_codes[(i % 5) + 1] || ':57A:' || bic_codes[(i % 5) + 1] || ':58A:/ACCOUNTNUMBER:72:/ACC/INTERBANK SETTLEMENT-}',
            NULL,
            NOW(),
            NOW()
        );
    END LOOP;
END $$;

-- =============================================================================
-- MT202COV MESSAGES (25 examples)
-- =============================================================================

-- 5 örnek MT202COV
INSERT INTO swift_messages (
    message_type, sender_bic, receiver_bic, amount, currency, value_date,
    raw_mt_message, generated_mx_message, created_at, updated_at
) VALUES 
('MT202COV', 'TGBATRIXXX', 'CHASUS33XXX', 100000.00, 'USD', CURRENT_DATE + 35,
'{1:F01TGBATRIXXX0000000000}{2:I202CHASUS33XXXXN}{4::20:MT202COVREF001:21:COV2025001:32A:' || TO_CHAR(CURRENT_DATE + 35, 'YYMMDD') || 'USD100000,00:52A:TGBATRIXXX:53A:CITITRIS:57A:CHASUS33XXX:58A:CHASUS33XXX:50A:TGBATRIXXX:59A:BENEFICIARY_BANK:70:COVER FOR MT103 PAYMENT:72:/INS/USD COVER PAYMENT-}', NULL, NOW(), NOW()),
('MT202COV', 'AKBKTRISKXXX', 'DEUTDEFFXXX', 200000.00, 'EUR', CURRENT_DATE + 36,
'{1:F01AKBKTRISKXXX0000000000}{2:I202DEUTDEFFXXXXN}{4::20:MT202COVREF002:21:COV2025002:32A:' || TO_CHAR(CURRENT_DATE + 36, 'YYMMDD') || 'EUR200000,00:52A:AKBKTRISKXXX:53A:AKBKTRISKXXX:57A:DEUTDEFFXXX:58A:DEUTDEFFXXX:50A:AKBKTRISKXXX:59A:DEUTSCHE_BANK:70:COVER FOR CUSTOMER PAYMENTS:72:/INS/EUR COVER SETTLEMENT-}', NULL, NOW(), NOW()),
('MT202COV', 'ISBKTRISAHXXX', 'BARCGB22XXX', 150000.00, 'GBP', CURRENT_DATE + 37,
'{1:F01ISBKTRISAHXXX0000000000}{2:I202BARCGB22XXXXN}{4::20:MT202COVREF003:21:COV2025003:32A:' || TO_CHAR(CURRENT_DATE + 37, 'YYMMDD') || 'GBP150000,00:52A:ISBKTRISAHXXX:53A:ISBKTRISAHXXX:57A:BARCGB22XXX:58A:BARCGB22XXX:50A:ISBKTRISAHXXX:59A:BARCLAYS_BANK:70:COVER FOR HIGH VALUE PAYMENT:72:/INS/GBP COVER PAYMENT-}', NULL, NOW(), NOW()),
('MT202COV', 'YAPITRISXXX', 'UBSWCHZHXXX', 120000.00, 'CHF', CURRENT_DATE + 38,
'{1:F01YAPITRISXXX0000000000}{2:I202UBSWCHZHXXXXN}{4::20:MT202COVREF004:21:COV2025004:32A:' || TO_CHAR(CURRENT_DATE + 38, 'YYMMDD') || 'CHF120000,00:52A:YAPITRISXXX:53A:YAPITRISXXX:57A:UBSWCHZHXXX:58A:UBSWCHZHXXX:50A:YAPITRISXXX:59A:UBS_SWITZERLAND:70:COVER FOR SWISS PAYMENT:72:/INS/CHF COVER PAYMENT-}', NULL, NOW(), NOW()),
('MT202COV', 'GARBTRISKXXX', 'BNPAFRPPXXX', 180000.00, 'EUR', CURRENT_DATE + 39,
'{1:F01GARBTRISKXXX0000000000}{2:I202BNPAFRPPXXXXN}{4::20:MT202COVREF005:21:COV2025005:32A:' || TO_CHAR(CURRENT_DATE + 39, 'YYMMDD') || 'EUR180000,00:52A:GARBTRISKXXX:53A:GARBTRISKXXX:57A:BNPAFRPPXXX:58A:BNPAFRPPXXX:50A:GARBTRISKXXX:59A:BNP_PARIBAS:70:COVER FOR FRENCH PAYMENT:72:/INS/EUR COVER PAYMENT-}', NULL, NOW(), NOW());

-- 20 random valid MT202COV
DO $$
DECLARE 
    i INTEGER;
    bic_codes TEXT[] := ARRAY['TGBATRIXXX', 'AKBKTRISKXXX', 'ISBKTRISAHXXX', 'YAPITRISXXX', 'GARBTRISKXXX'];
    currencies TEXT[] := ARRAY['USD', 'EUR', 'GBP', 'CHF'];
BEGIN
    FOR i IN 1..20 LOOP
        INSERT INTO swift_messages (
            message_type, sender_bic, receiver_bic, amount, currency, value_date,
            raw_mt_message, generated_mx_message, created_at, updated_at
        ) VALUES (
            'MT202COV',
            bic_codes[((i-1) % 5) + 1],
            bic_codes[(i % 5) + 1],
            (RANDOM() * 300000 + 50000)::DECIMAL(10,2),
            currencies[((i-1) % 4) + 1],
            CURRENT_DATE + i + 40,
            '{1:F01' || bic_codes[((i-1) % 5) + 1] || '0000000000}{2:I202' || bic_codes[(i % 5) + 1] || 'N}{4::20:MT202COVREF' || LPAD(i::TEXT, 3, '0') || ':21:COV2025' || LPAD(i::TEXT, 3, '0') || ':32A:' || TO_CHAR(CURRENT_DATE + i + 40, 'YYMMDD') || currencies[((i-1) % 4) + 1] || TRUNC(RANDOM() * 300000 + 50000) || ',00:52A:' || bic_codes[((i-1) % 5) + 1] || ':53A:' || bic_codes[((i-1) % 5) + 1] || ':57A:' || bic_codes[(i % 5) + 1] || ':58A:' || bic_codes[(i % 5) + 1] || ':50A:' || bic_codes[((i-1) % 5) + 1] || ':59A:BENEFICIARY_BANK:70:COVER FOR MT103 PAYMENT:72:/INS/' || currencies[((i-1) % 4) + 1] || ' COVER PAYMENT-}',
            NULL,
            NOW(),
            NOW()
        );
    END LOOP;
END $$;

-- =============================================================================
-- MT203 MESSAGES (30 examples)
-- =============================================================================

-- 5 örnek MT203
INSERT INTO swift_messages (
    message_type, sender_bic, receiver_bic, amount, currency, value_date,
    raw_mt_message, generated_mx_message, created_at, updated_at
) VALUES 
('MT203', 'TGBATRIXXX', 'DEUTDEFFXXX', 800000.00, 'EUR', CURRENT_DATE + 45,
'{1:F01TGBATRIXXX0000000000}{2:I203DEUTDEFFXXXXN}{4::20:MT203REF001:21:BATCH2025001:32A:' || TO_CHAR(CURRENT_DATE + 45, 'YYMMDD') || 'EUR800000,00:52A:TGBATRIXXX:53A:TGBATRIXXX:56A:DEUTDEFFXXX:57A:DEUTDEFFXXX:58A:/DE89370400440532013000:72:/ACC/MULTIPLE INTERBANK SETTLEMENTS:21:TRX001:32B:EUR400000,00:58A:/DE89370400440532013000:21:TRX002:32B:EUR400000,00:58A:/DE89370400440532013000-}', NULL, NOW(), NOW()),
('MT203', 'AKBKTRISKXXX', 'CHASUS33XXX', 1200000.00, 'USD', CURRENT_DATE + 46,
'{1:F01AKBKTRISKXXX0000000000}{2:I203CHASUS33XXXXN}{4::20:MT203REF002:21:BATCH2025002:32A:' || TO_CHAR(CURRENT_DATE + 46, 'YYMMDD') || 'USD1200000,00:52A:AKBKTRISKXXX:53A:AKBKTRISKXXX:56A:CHASUS33XXX:57A:CHASUS33XXX:58A:/US64NFCU0000000001234567:72:/ACC/MULTIPLE INTERBANK SETTLEMENTS:21:TRX003:32B:USD400000,00:58A:/US64NFCU0000000001234567:21:TRX004:32B:USD400000,00:58A:/US64NFCU0000000001234567:21:TRX005:32B:USD400000,00:58A:/US64NFCU0000000001234567-}', NULL, NOW(), NOW()),
('MT203', 'ISBKTRISAHXXX', 'BARCGB22XXX', 900000.00, 'GBP', CURRENT_DATE + 47,
'{1:F01ISBKTRISAHXXX0000000000}{2:I203BARCGB22XXXXN}{4::20:MT203REF003:21:BATCH2025003:32A:' || TO_CHAR(CURRENT_DATE + 47, 'YYMMDD') || 'GBP900000,00:52A:ISBKTRISAHXXX:53A:ISBKTRISAHXXX:56A:BARCGB22XXX:57A:BARCGB22XXX:58A:/GB29NWBK60161331926819:72:/ACC/MULTIPLE INTERBANK SETTLEMENTS:21:TRX006:32B:GBP300000,00:58A:/GB29NWBK60161331926819:21:TRX007:32B:GBP300000,00:58A:/GB29NWBK60161331926819:21:TRX008:32B:GBP300000,00:58A:/GB29NWBK60161331926819-}', NULL, NOW(), NOW()),
('MT203', 'YAPITRISXXX', 'UBSWCHZHXXX', 600000.00, 'CHF', CURRENT_DATE + 48,
'{1:F01YAPITRISXXX0000000000}{2:I203UBSWCHZHXXXXN}{4::20:MT203REF004:21:BATCH2025004:32A:' || TO_CHAR(CURRENT_DATE + 48, 'YYMMDD') || 'CHF600000,00:52A:YAPITRISXXX:53A:YAPITRISXXX:56A:UBSWCHZHXXX:57A:UBSWCHZHXXX:58A:/CH9300762011623852957:72:/ACC/MULTIPLE INTERBANK SETTLEMENTS:21:TRX009:32B:CHF300000,00:58A:/CH9300762011623852957:21:TRX010:32B:CHF300000,00:58A:/CH9300762011623852957-}', NULL, NOW(), NOW()),
('MT203', 'GARBTRISKXXX', 'BNPAFRPPXXX', 700000.00, 'EUR', CURRENT_DATE + 49,
'{1:F01GARBTRISKXXX0000000000}{2:I203BNPAFRPPXXXXN}{4::20:MT203REF005:21:BATCH2025005:32A:' || TO_CHAR(CURRENT_DATE + 49, 'YYMMDD') || 'EUR700000,00:52A:GARBTRISKXXX:53A:GARBTRISKXXX:56A:BNPAFRPPXXX:57A:BNPAFRPPXXX:58A:/FR1420041010050500013M02606:72:/ACC/MULTIPLE INTERBANK SETTLEMENTS:21:TRX011:32B:EUR350000,00:58A:/FR1420041010050500013M02606:21:TRX012:32B:EUR350000,00:58A:/FR1420041010050500013M02606-}', NULL, NOW(), NOW());

-- 25 random valid MT203
DO $$
DECLARE 
    i INTEGER;
    bic_codes TEXT[] := ARRAY['TGBATRIXXX', 'AKBKTRISKXXX', 'ISBKTRISAHXXX', 'YAPITRISXXX', 'GARBTRISKXXX'];
    currencies TEXT[] := ARRAY['EUR', 'USD', 'GBP', 'CHF'];
BEGIN
    FOR i IN 1..25 LOOP
        INSERT INTO swift_messages (
            message_type, sender_bic, receiver_bic, amount, currency, value_date,
            raw_mt_message, generated_mx_message, created_at, updated_at
        ) VALUES (
            'MT203',
            bic_codes[((i-1) % 5) + 1],
            bic_codes[(i % 5) + 1],
            (RANDOM() * 1000000 + 200000)::DECIMAL(10,2),
            currencies[((i-1) % 4) + 1],
            CURRENT_DATE + i + 50,
            '{1:F01' || bic_codes[((i-1) % 5) + 1] || '0000000000}{2:I203' || bic_codes[(i % 5) + 1] || 'N}{4::20:MT203REF' || LPAD(i::TEXT, 3, '0') || ':21:BATCH2025' || LPAD(i::TEXT, 3, '0') || ':32A:' || TO_CHAR(CURRENT_DATE + i + 50, 'YYMMDD') || currencies[((i-1) % 4) + 1] || TRUNC(RANDOM() * 1000000 + 200000) || ',00:52A:' || bic_codes[((i-1) % 5) + 1] || ':53A:' || bic_codes[((i-1) % 5) + 1] || ':56A:' || bic_codes[(i % 5) + 1] || ':57A:' || bic_codes[(i % 5) + 1] || ':58A:/ACCOUNTNUMBER:72:/ACC/MULTIPLE INTERBANK SETTLEMENTS-}',
            NULL,
            NOW(),
            NOW()
        );
    END LOOP;
END $$; 